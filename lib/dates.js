/* Generated by ChatGPT */
const getDateOfWeekday = (weekdayStr, locale = "fi-FI") => {
  const weekdays = ["mon", "tue", "wed", "thu", "fri", "sat", "sun"];

  const targetIndex = weekdays.indexOf(weekdayStr.toLowerCase());
  if (targetIndex === -1) {
    throw new Error("Invalid weekday string");
  }

  const today = new Date();

  // Adjust JS's native Sunday-start index to a Monday-start index
  let todayIndex = today.getDay(); // 0 (Sun) to 6 (Sat)
  todayIndex = (todayIndex + 6) % 7; // Now: 0 (Mon) to 6 (Sun)

  const diff = targetIndex - todayIndex;

  const targetDate = new Date(today);
  targetDate.setDate(today.getDate() + diff);

  // Return localized date string
  return targetDate.toLocaleDateString(locale, {
    month: "numeric",
    day: "numeric",
  });
};

export {getDateOfWeekday};
